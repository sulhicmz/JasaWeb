name: 'CodeQL Configuration'

# Define paths to include in the analysis
paths:
  - apps/api/src
  - apps/web/src
  - packages
  - scripts

# Define paths to ignore from the analysis
paths-ignore:
  - '**/node_modules'
  - '**/dist'
  - '**/build'
  - '**/.git'
  - '**/coverage'
  - '**/*.test.ts'
  - '**/*.test.js'
  - '**/*.spec.ts'
  - '**/*.spec.js'
  - '**/migrations'

# Define queries to use
queries:
  - name: 'Security and quality queries'
    uses: 'security-and-quality'

# Define query packs to use
query-packs:
  - 'codeql/javascript-queries'
  - 'codeql/security-extended-queries'

# Define additional extraction settings
extractor:
  javascript:
    # Enable extraction of JavaScript and TypeScript files
    extraction:
      javascript:
        include:
          - '**/*.js'
          - '**/*.jsx'
          - '**/*.ts'
          - '**/*.tsx'
          - '**/*.mjs'
          - '**/*.cjs'

# Define language-specific options
languages:
  - javascript
  - typescript

# Define trap cache settings
trap-cache:
  # Enable trap caching for better performance
  enabled: true

# Define SARIF settings
sarif:
  # Group results by rule
  group-by-file: true

# Define custom tags for better categorization
tags:
  - 'security'
  - 'quality'
  - 'javascript'
  - 'typescript'
