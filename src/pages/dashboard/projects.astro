---
/**
 * Projects List Page (Web Saya)
 * Shows all user's projects
 */
import PortalLayout from '../../layouts/PortalLayout.astro';
import Card from '../../components/ui/Card.astro';
import Button from '../../components/ui/Button.astro';
---

<PortalLayout title="Web Saya" currentPath="/dashboard/projects">
  <div class="page-header">
    <p class="page-description">Daftar website yang Anda pesan</p>
    <Button href="/layanan" variant="primary" size="sm">+ Pesan Baru</Button>
  </div>

  <div id="projectsList" class="projects-grid">
    <Card padding="lg" class="loading-state">
      <p>Memuat proyek...</p>
    </Card>
  </div>
</PortalLayout>

<style>
  .page-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 2rem;
  }

  .page-description {
    color: var(--color-text-secondary);
  }

  .projects-grid {
    display: grid;
    gap: 1.5rem;
  }

  .loading-state,
  .empty-state {
    text-align: center;
    color: var(--color-text-secondary);
    padding: 3rem;
  }

  .project-card {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 1.5rem;
    padding: 1.5rem;
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
  }

  .project-info {
    flex: 1;
  }

  .project-name {
    font-size: 1.125rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
  }

  .project-type {
    color: var(--color-text-secondary);
    font-size: 0.875rem;
    margin-bottom: 1rem;
  }

  .project-meta {
    display: flex;
    gap: 1rem;
    font-size: 0.75rem;
    color: var(--color-text-muted);
  }

  .project-actions {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    align-items: flex-end;
  }

  .status-badge {
    padding: 0.25rem 0.75rem;
    color: white;
    border-radius: 999px;
    font-size: 0.75rem;
    font-weight: 500;
  }

  .status-pending_payment {
    background: var(--color-secondary);
  }

  .status-in_progress {
    background: var(--color-primary);
  }

  .status-review {
    background: var(--color-bg-tertiary);
  }

  .status-completed {
    background: var(--color-success);
  }

  .project-link {
    font-size: 0.75rem;
    color: var(--color-primary);
    font-weight: 500;
    text-decoration: none;
    transition: color var(--transition-fast);
  }

  .project-link:hover {
    color: var(--color-primary-dark);
  }
</style>

<script type="module" src="./projects-client.ts" is:inline></script>
