---
import DashboardLayout from '../../layouts/DashboardLayout.astro';
import DashboardHeader from '../../components/portal/DashboardHeader.astro';
import { DashboardCharts } from '../../components/portal/DashboardCharts.tsx';
import StatusWidgets from '../../components/portal/StatusWidgets.tsx';
import QuickActions from '../../components/portal/QuickActions.astro';
import ActivityFeed from '../../components/portal/ActivityFeed.astro';
import ProjectOverview from '../../components/portal/ProjectOverview.astro';
import { NotificationCenter } from '../../components/portal/NotificationCenter.tsx';
---

<DashboardLayout title="Dashboard - Client Portal">
  <DashboardHeader client:load currentPage="dashboard" />
  
  <div class="min-h-screen bg-slate-950">
    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
      <!-- Dashboard Header -->
      <div class="mb-8">
        <h1 class="text-3xl font-bold text-white mb-2">Dashboard</h1>
        <p class="text-gray-400">Welcome back! Here's an overview of your projects and activities.</p>
      </div>

      <!-- Real-time Status Widgets -->
      <section class="mb-8">
        <div class="glass-panel p-6 rounded-xl">
          <StatusWidgets client:load />
        </div>
      </section>

      <!-- Quick Actions -->
      <section class="mb-8">
        <div class="glass-panel p-6 rounded-xl">
          <QuickActions client:load />
        </div>
      </section>

      <!-- Main Grid Layout -->
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <!-- Left Column - Charts & Overview -->
        <div class="lg:col-span-2 space-y-8">
          <!-- Dashboard Charts -->
          <section>
            <div class="glass-panel p-6 rounded-xl">
              <h2 class="text-xl font-bold text-white mb-6">Analytics Overview</h2>
              <DashboardCharts client:load organizationId="org-1" />
            </div>
          </section>

          <!-- Project Overview -->
          <section>
            <div class="glass-panel p-6 rounded-xl">
              <ProjectOverview client:load />
            </div>
          </section>
        </div>

        <!-- Right Column - Activity & Notifications -->
        <div class="space-y-8">
          <!-- Activity Feed -->
          <section>
            <div class="glass-panel p-6 rounded-xl">
              <ActivityFeed client:load />
            </div>
          </section>

          <!-- Notification Center -->
          <section>
            <div class="glass-panel p-6 rounded-xl">
              <h2 class="text-xl font-bold text-white mb-6">Notifications</h2>
              <NotificationCenter client:load organizationId="org-1" />
            </div>
          </section>
        </div>
      </div>
    </main>
  </div>
</DashboardLayout>